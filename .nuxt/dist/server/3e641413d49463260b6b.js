exports.ids=[6],exports.modules={130:function(t,e,l){"use strict";l.r(e);var r={layout:"admin",middleware:["admin-auth"],async asyncData({store:t}){const e=await t.dispatch("product/fetchAdmin");return e.forEach(t=>{t.flask=t.flask.toString()}),{products:e}},data:()=>({}),methods:{open(t){this.$router.push(`/admin/product/${t}`)},async remove(t){try{await this.$confirm("Удалить продукт?","Внимание!",{confirmButtonText:"Да",cancelButtonText:"Отменить",type:"warning"}),await this.$store.dispatch("product/remove",t),this.products=this.products.filter(p=>p._id!==t),this.$message.success("Товар удален")}catch(t){}}}},o=l(1),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.products,"highlight-current-row":t.products.flask}},[l("el-table-column",{attrs:{prop:"name",label:"Название"}}),t._v(" "),l("el-table-column",{attrs:{prop:"price",label:"Цена/1мл"}}),t._v(" "),l("el-table-column",{attrs:{prop:"maxValue",label:"Кол-во мл"}}),t._v(" "),l("el-table-column",{attrs:{prop:"sex",label:"Пол"}}),t._v(" "),l("el-table-column",{attrs:{prop:"brand",label:"Бренд"}}),t._v(" "),l("el-table-column",{attrs:{prop:"flask",label:"Флакон"}}),t._v(" "),l("el-table-column",{attrs:{label:"Коментарии"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row.comments;return[l("i",{staticClass:"el-icon-chat-dot-square"}),t._v(" "),l("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(r.length))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"Изменить"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[l("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(e){return t.open(r._id)}}})]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"Удалить"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[l("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.remove(r._id)}}})]}}])})],1)}),[],!1,null,null,"013b1244");e.default=component.exports}};