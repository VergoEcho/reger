exports.ids=[1],exports.modules={102:function(t,e,o){var content=o(112);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var l=o(5).default;t.exports.__inject__=function(t){l("2f99953d",content,!0,t)}},111:function(t,e,o){"use strict";o.r(e);var l=o(102),n=o.n(l);for(var r in l)"default"!==r&&function(t){o.d(e,t,(function(){return l[t]}))}(r);e.default=n.a},112:function(t,e,o){(t.exports=o(4)(!1)).push([t.i,"form[data-v-065ecefa]{width:600px}",""])},128:function(t,e,o){"use strict";o.r(e);var l={layout:"admin",middleware:["admin-auth"],data:()=>({image:null,previewDialog:!1,loading:!1,controls:{name:"",text:"",price:"",maxValue:"",sex:"",brand:"",flask:!1},rules:{name:[{required:!0,message:"Название продукта не может быть пустым",trigger:"blur"}]}}),methods:{handleImageChange(t,e){this.image=t.raw},onSubmit(){this.$refs.form.validate(async t=>{if(t&&this.image){this.loading=!0;const t={name:this.controls.name,text:this.controls.text,image:this.image,price:this.controls.price,maxValue:this.controls.maxValue,sex:this.controls.sex,brand:this.controls.brand,flask:this.controls.flask};console.log(t);try{await this.$store.dispatch("product/create",t),this.controls.name="",this.controls.text="",this.image=null,this.controls.price="",this.controls.maxValue="",this.controls.sex="",this.controls.brand="",this.controls.flask="",this.$refs.upload.clearFiles(),this.$message.success("Продукт добавлен")}catch(t){}finally{this.loading=!1}}else this.$message.warning("Форма не валидна")})}}},n=o(1);var component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"form",attrs:{model:t.controls,rules:t.rules},nativeOn:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[o("h1",{staticClass:"mb"},[t._v("Добавить продукт")]),t._v(" "),o("el-form-item",{attrs:{label:"Введите имя товара",prop:"name"}},[o("el-input",{model:{value:t.controls.name,callback:function(e){t.$set(t.controls,"name",e)},expression:"controls.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Текст в формате .md или .html",prop:"text"}},[o("el-input",{attrs:{type:"textarea",resize:"none",rows:10},model:{value:t.controls.text,callback:function(e){t.$set(t.controls,"text",e)},expression:"controls.text"}})],1),t._v(" "),o("el-button",{staticClass:"mb",attrs:{type:"success",plain:""},on:{click:function(e){t.previewDialog=!0}}},[t._v("\n      Предпросмотр\n  ")]),t._v(" "),o("el-dialog",{attrs:{title:"Предпросмотр",visible:t.previewDialog},on:{"update:visible":function(e){t.previewDialog=e}}},[o("div",{key:t.controls.text},[o("vue-markdown",[t._v(t._s(t.controls.text))])],1)]),t._v(" "),o("el-form-item",{attrs:{label:"Введите цену товара",prop:"price"}},[o("el-input",{model:{value:t.controls.price,callback:function(e){t.$set(t.controls,"price",e)},expression:"controls.price"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Введите количество(мл) товара",prop:"maxValue"}},[o("el-input",{model:{value:t.controls.maxValue,callback:function(e){t.$set(t.controls,"maxValue",e)},expression:"controls.maxValue"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Введите пол (м, ж, у) на русском маленьким шрифтом",prop:"sex"}},[o("el-input",{model:{value:t.controls.sex,callback:function(e){t.$set(t.controls,"sex",e)},expression:"controls.sex"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Введите производителя товара",prop:"brand"}},[o("el-input",{model:{value:t.controls.brand,callback:function(e){t.$set(t.controls,"brand",e)},expression:"controls.brand"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"С флаконом",prop:"flask"}},[o("el-checkbox",{model:{value:t.controls.flask,callback:function(e){t.$set(t.controls,"flask",e)},expression:"controls.flask"}},[t._v("\n       Да\n       ")])],1),t._v(" "),o("el-upload",{ref:"upload",staticClass:"mb",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","on-change":t.handleImageChange,"auto-upload":!1}},[o("i",{staticClass:"el-icon-upload"}),t._v(" "),o("div",{staticClass:"el-upload__text"},[t._v("Перетащите картинку "),o("em",[t._v("или нажмите")])]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("файлы с расширением jpg/png")])]),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary","native-type":"submit",round:"",loading:t.loading}},[t._v("\n      Добавить продукт\n    ")])],1)],1)}),[],!1,(function(t){var e=o(111);e.__inject__&&e.__inject__(t)}),"065ecefa","9ef51bc0");e.default=component.exports}};