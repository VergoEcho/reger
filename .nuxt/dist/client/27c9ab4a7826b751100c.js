(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{463:function(e,t,o){var content=o(473);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(21).default)("3396dc92",content,!0,{sourceMap:!1})},472:function(e,t,o){"use strict";var l=o(463);o.n(l).a},473:function(e,t,o){(e.exports=o(20)(!1)).push([e.i,"form[data-v-5e7ab522]{width:600px}",""])},490:function(e,t,o){"use strict";o.r(t);o(62),o(38);var l={layout:"admin",middleware:["admin-auth"],data:function(){return{image:null,previewDialog:!1,loading:!1,controls:{name:"",text:'<a href="">Отзывы</a>',price:"",maxValue:"",sex:"",brand:"",flask:!1},rules:{name:[{required:!0,message:"Название продукта не может быть пустым",trigger:"blur"}]}}},methods:{handleImageChange:function(e,t){this.image=e.raw},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){var o;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!t||!e.image){l.next=26;break}return e.loading=!0,o={name:e.controls.name,text:e.controls.text,image:e.image,price:e.controls.price,maxValue:e.controls.maxValue,sex:e.controls.sex,brand:e.controls.brand,flask:e.controls.flask},console.log(o),l.prev=4,l.next=7,regeneratorRuntime.awrap(e.$store.dispatch("product/create",o));case 7:e.controls.name="",e.controls.text="",e.image=null,e.controls.price="",e.controls.maxValue="",e.controls.sex="",e.controls.brand="",e.controls.flask="",e.$refs.upload.clearFiles(),e.$message.success("Продукт добавлен"),l.next=21;break;case 19:l.prev=19,l.t0=l.catch(4);case 21:return l.prev=21,e.loading=!1,l.finish(21);case 24:l.next=27;break;case 26:e.$message.warning("Форма не валидна");case 27:case"end":return l.stop()}}),null,null,[[4,19,21,24]])}))}}},n=(o(472),o(5)),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"form",attrs:{model:e.controls,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[o("h1",{staticClass:"mb"},[e._v("Добавить продукт")]),e._v(" "),o("el-form-item",{attrs:{label:"Введите имя товара",prop:"name"}},[o("el-input",{model:{value:e.controls.name,callback:function(t){e.$set(e.controls,"name",t)},expression:"controls.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Текст в формате .md или .html",prop:"text"}},[o("el-input",{attrs:{type:"textarea",resize:"none",rows:10},model:{value:e.controls.text,callback:function(t){e.$set(e.controls,"text",t)},expression:"controls.text"}})],1),e._v(" "),o("el-button",{staticClass:"mb",attrs:{type:"success",plain:""},on:{click:function(t){e.previewDialog=!0}}},[e._v("\n      Предпросмотр\n  ")]),e._v(" "),o("el-dialog",{attrs:{title:"Предпросмотр",visible:e.previewDialog},on:{"update:visible":function(t){e.previewDialog=t}}},[o("div",{key:e.controls.text},[o("vue-markdown",[e._v(e._s(e.controls.text))])],1)]),e._v(" "),o("el-form-item",{attrs:{label:"Введите цену товара",prop:"price"}},[o("el-input",{model:{value:e.controls.price,callback:function(t){e.$set(e.controls,"price",t)},expression:"controls.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Введите количество(мл) товара",prop:"maxValue"}},[o("el-input",{model:{value:e.controls.maxValue,callback:function(t){e.$set(e.controls,"maxValue",t)},expression:"controls.maxValue"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Введите пол (м, ж, у) на русском маленьким шрифтом",prop:"sex"}},[o("el-input",{model:{value:e.controls.sex,callback:function(t){e.$set(e.controls,"sex",t)},expression:"controls.sex"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Введите производителя товара",prop:"brand"}},[o("el-input",{model:{value:e.controls.brand,callback:function(t){e.$set(e.controls,"brand",t)},expression:"controls.brand"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"С флаконом",prop:"flask"}},[o("el-checkbox",{model:{value:e.controls.flask,callback:function(t){e.$set(e.controls,"flask",t)},expression:"controls.flask"}},[e._v("\n       Да\n       ")])],1),e._v(" "),o("el-upload",{ref:"upload",staticClass:"mb",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleImageChange,"auto-upload":!1}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("Перетащите картинку "),o("em",[e._v("или нажмите")])]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("файлы с расширением jpg/png")])]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary","native-type":"submit",round:"",loading:e.loading}},[e._v("\n      Добавить продукт\n    ")])],1)],1)}),[],!1,null,"5e7ab522",null);t.default=component.exports}}]);