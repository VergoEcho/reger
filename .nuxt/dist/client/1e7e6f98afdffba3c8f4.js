(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{496:function(t,e,n){"use strict";n.r(e);n(141),n(142),n(22),n(38);var r={layout:"admin",middleware:["admin-auth"],asyncData:function(t){var e,n;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.store,r.next=3,regeneratorRuntime.awrap(e.dispatch("product/fetchAdmin"));case 3:return(n=r.sent).forEach((function(t){t.flask=t.flask.toString()})),r.abrupt("return",{products:n});case 6:case"end":return r.stop()}}))},data:function(){return{}},methods:{open:function(t){this.$router.push("/admin/product/".concat(t))},remove:function(t){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(this.$confirm("Удалить продукт?","Внимание!",{confirmButtonText:"Да",cancelButtonText:"Отменить",type:"warning"}));case 3:return e.next=5,regeneratorRuntime.awrap(this.$store.dispatch("product/remove",t));case 5:this.products=this.products.filter((function(p){return p._id!==t})),this.$message.success("Товар удален"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),null,this,[[0,9]])}}},o=n(5),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.products,"highlight-current-row":t.products.flask}},[n("el-table-column",{attrs:{prop:"name",label:"Название"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"Цена/1мл"}}),t._v(" "),n("el-table-column",{attrs:{prop:"maxValue",label:"Кол-во мл"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sex",label:"Пол"}}),t._v(" "),n("el-table-column",{attrs:{prop:"brand",label:"Бренд"}}),t._v(" "),n("el-table-column",{attrs:{prop:"flask",label:"Флакон"}}),t._v(" "),n("el-table-column",{attrs:{label:"Коментарии"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row.comments;return[n("i",{staticClass:"el-icon-chat-dot-square"}),t._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(r.length))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Изменить"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(e){return t.open(r._id)}}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Удалить"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.remove(r._id)}}})]}}])})],1)}),[],!1,null,null,null);e.default=component.exports}}]);